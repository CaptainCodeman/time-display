{"version":3,"file":"time.min.js","sources":["../index.js","../bower_components/fecha/fecha.js","../time-display.js","../time-diff.js"],"sourcesContent":["import timeDisplay from './time-display';\nimport timeDiff from './time-diff';\n\nfunction register() {\n  timeDisplay();\n  timeDiff();\n}\n\nif (window.WebComponents && window.WebComponents.ready) {\n  register();\n} else {\n  window.addEventListener('WebComponentsReady', register);\n}\n\n","(function (main) {\n  'use strict';\n\n  /**\n   * Parse or format dates\n   * @class fecha\n   */\n  var fecha = {};\n  var token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\n  var twoDigits = /\\d\\d?/;\n  var threeDigits = /\\d{3}/;\n  var fourDigits = /\\d{4}/;\n  var word = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\n  var literal = /\\[([^]*?)\\]/gm;\n  var noop = function () {\n  };\n\n  function shorten(arr, sLen) {\n    var newArr = [];\n    for (var i = 0, len = arr.length; i < len; i++) {\n      newArr.push(arr[i].substr(0, sLen));\n    }\n    return newArr;\n  }\n\n  function monthUpdate(arrName) {\n    return function (d, v, i18n) {\n      var index = i18n[arrName].indexOf(v.charAt(0).toUpperCase() + v.substr(1).toLowerCase());\n      if (~index) {\n        d.month = index;\n      }\n    };\n  }\n\n  function pad(val, len) {\n    val = String(val);\n    len = len || 2;\n    while (val.length < len) {\n      val = '0' + val;\n    }\n    return val;\n  }\n\n  var dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n  var monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n  var monthNamesShort = shorten(monthNames, 3);\n  var dayNamesShort = shorten(dayNames, 3);\n  fecha.i18n = {\n    dayNamesShort: dayNamesShort,\n    dayNames: dayNames,\n    monthNamesShort: monthNamesShort,\n    monthNames: monthNames,\n    amPm: ['am', 'pm'],\n    DoFn: function DoFn(D) {\n      return D + ['th', 'st', 'nd', 'rd'][D % 10 > 3 ? 0 : (D - D % 10 !== 10) * D % 10];\n    }\n  };\n\n  var formatFlags = {\n    D: function(dateObj) {\n      return dateObj.getDate();\n    },\n    DD: function(dateObj) {\n      return pad(dateObj.getDate());\n    },\n    Do: function(dateObj, i18n) {\n      return i18n.DoFn(dateObj.getDate());\n    },\n    d: function(dateObj) {\n      return dateObj.getDay();\n    },\n    dd: function(dateObj) {\n      return pad(dateObj.getDay());\n    },\n    ddd: function(dateObj, i18n) {\n      return i18n.dayNamesShort[dateObj.getDay()];\n    },\n    dddd: function(dateObj, i18n) {\n      return i18n.dayNames[dateObj.getDay()];\n    },\n    M: function(dateObj) {\n      return dateObj.getMonth() + 1;\n    },\n    MM: function(dateObj) {\n      return pad(dateObj.getMonth() + 1);\n    },\n    MMM: function(dateObj, i18n) {\n      return i18n.monthNamesShort[dateObj.getMonth()];\n    },\n    MMMM: function(dateObj, i18n) {\n      return i18n.monthNames[dateObj.getMonth()];\n    },\n    YY: function(dateObj) {\n      return String(dateObj.getFullYear()).substr(2);\n    },\n    YYYY: function(dateObj) {\n      return dateObj.getFullYear();\n    },\n    h: function(dateObj) {\n      return dateObj.getHours() % 12 || 12;\n    },\n    hh: function(dateObj) {\n      return pad(dateObj.getHours() % 12 || 12);\n    },\n    H: function(dateObj) {\n      return dateObj.getHours();\n    },\n    HH: function(dateObj) {\n      return pad(dateObj.getHours());\n    },\n    m: function(dateObj) {\n      return dateObj.getMinutes();\n    },\n    mm: function(dateObj) {\n      return pad(dateObj.getMinutes());\n    },\n    s: function(dateObj) {\n      return dateObj.getSeconds();\n    },\n    ss: function(dateObj) {\n      return pad(dateObj.getSeconds());\n    },\n    S: function(dateObj) {\n      return Math.round(dateObj.getMilliseconds() / 100);\n    },\n    SS: function(dateObj) {\n      return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n    },\n    SSS: function(dateObj) {\n      return pad(dateObj.getMilliseconds(), 3);\n    },\n    a: function(dateObj, i18n) {\n      return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n    },\n    A: function(dateObj, i18n) {\n      return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n    },\n    ZZ: function(dateObj) {\n      var o = dateObj.getTimezoneOffset();\n      return (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4);\n    }\n  };\n\n  var parseFlags = {\n    D: [twoDigits, function (d, v) {\n      d.day = v;\n    }],\n    Do: [new RegExp(twoDigits.source + word.source), function (d, v) {\n      d.day = parseInt(v, 10);\n    }],\n    M: [twoDigits, function (d, v) {\n      d.month = v - 1;\n    }],\n    YY: [twoDigits, function (d, v) {\n      var da = new Date(), cent = +('' + da.getFullYear()).substr(0, 2);\n      d.year = '' + (v > 68 ? cent - 1 : cent) + v;\n    }],\n    h: [twoDigits, function (d, v) {\n      d.hour = v;\n    }],\n    m: [twoDigits, function (d, v) {\n      d.minute = v;\n    }],\n    s: [twoDigits, function (d, v) {\n      d.second = v;\n    }],\n    YYYY: [fourDigits, function (d, v) {\n      d.year = v;\n    }],\n    S: [/\\d/, function (d, v) {\n      d.millisecond = v * 100;\n    }],\n    SS: [/\\d{2}/, function (d, v) {\n      d.millisecond = v * 10;\n    }],\n    SSS: [threeDigits, function (d, v) {\n      d.millisecond = v;\n    }],\n    d: [twoDigits, noop],\n    ddd: [word, noop],\n    MMM: [word, monthUpdate('monthNamesShort')],\n    MMMM: [word, monthUpdate('monthNames')],\n    a: [word, function (d, v, i18n) {\n      var val = v.toLowerCase();\n      if (val === i18n.amPm[0]) {\n        d.isPm = false;\n      } else if (val === i18n.amPm[1]) {\n        d.isPm = true;\n      }\n    }],\n    ZZ: [/([\\+\\-]\\d\\d:?\\d\\d|Z)/, function (d, v) {\n      if (v === 'Z') v = '+00:00';\n      var parts = (v + '').match(/([\\+\\-]|\\d\\d)/gi), minutes;\n\n      if (parts) {\n        minutes = +(parts[1] * 60) + parseInt(parts[2], 10);\n        d.timezoneOffset = parts[0] === '+' ? minutes : -minutes;\n      }\n    }]\n  };\n  parseFlags.dd = parseFlags.d;\n  parseFlags.dddd = parseFlags.ddd;\n  parseFlags.DD = parseFlags.D;\n  parseFlags.mm = parseFlags.m;\n  parseFlags.hh = parseFlags.H = parseFlags.HH = parseFlags.h;\n  parseFlags.MM = parseFlags.M;\n  parseFlags.ss = parseFlags.s;\n  parseFlags.A = parseFlags.a;\n\n\n  // Some common format strings\n  fecha.masks = {\n    default: 'ddd MMM DD YYYY HH:mm:ss',\n    shortDate: 'M/D/YY',\n    mediumDate: 'MMM D, YYYY',\n    longDate: 'MMMM D, YYYY',\n    fullDate: 'dddd, MMMM D, YYYY',\n    shortTime: 'HH:mm',\n    mediumTime: 'HH:mm:ss',\n    longTime: 'HH:mm:ss.SSS'\n  };\n\n  /***\n   * Format a date\n   * @method format\n   * @param {Date|number} dateObj\n   * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n   */\n  fecha.format = function (dateObj, mask, i18nSettings) {\n    var i18n = i18nSettings || fecha.i18n;\n\n    if (typeof dateObj === 'number') {\n      dateObj = new Date(dateObj);\n    }\n\n    if (Object.prototype.toString.call(dateObj) !== '[object Date]' || isNaN(dateObj.getTime())) {\n      throw new Error('Invalid Date in fecha.format');\n    }\n\n    mask = fecha.masks[mask] || mask || fecha.masks['default'];\n\n    var literals = [];\n\n    // Make literals inactive by replacing them with ??\n    mask = mask.replace(literal, function($0, $1) {\n      literals.push($1);\n      return '??';\n    });\n    // Apply formatting rules\n    mask = mask.replace(token, function ($0) {\n      return $0 in formatFlags ? formatFlags[$0](dateObj, i18n) : $0.slice(1, $0.length - 1);\n    });\n    // Inline literal values back into the formatted value\n    return mask.replace(/\\?\\?/g, function() {\n      return literals.shift();\n    });\n  };\n\n  /**\n   * Parse a date string into an object, changes - into /\n   * @method parse\n   * @param {string} dateStr Date string\n   * @param {string} format Date parse format\n   * @returns {Date|boolean}\n   */\n  fecha.parse = function (dateStr, format, i18nSettings) {\n    var i18n = i18nSettings || fecha.i18n;\n\n    if (typeof format !== 'string') {\n      throw new Error('Invalid format in fecha.parse');\n    }\n\n    format = fecha.masks[format] || format;\n\n    // Avoid regular expression denial of service, fail early for really long strings\n    // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n    if (dateStr.length > 1000) {\n      return false;\n    }\n\n    var isValid = true;\n    var dateInfo = {};\n    format.replace(token, function ($0) {\n      if (parseFlags[$0]) {\n        var info = parseFlags[$0];\n        var index = dateStr.search(info[0]);\n        if (!~index) {\n          isValid = false;\n        } else {\n          dateStr.replace(info[0], function (result) {\n            info[1](dateInfo, result, i18n);\n            dateStr = dateStr.substr(index + result.length);\n            return result;\n          });\n        }\n      }\n\n      return parseFlags[$0] ? '' : $0.slice(1, $0.length - 1);\n    });\n\n    if (!isValid) {\n      return false;\n    }\n\n    var today = new Date();\n    if (dateInfo.isPm === true && dateInfo.hour != null && +dateInfo.hour !== 12) {\n      dateInfo.hour = +dateInfo.hour + 12;\n    } else if (dateInfo.isPm === false && +dateInfo.hour === 12) {\n      dateInfo.hour = 0;\n    }\n\n    var date;\n    if (dateInfo.timezoneOffset != null) {\n      dateInfo.minute = +(dateInfo.minute || 0) - +dateInfo.timezoneOffset;\n      date = new Date(Date.UTC(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1,\n        dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0));\n    } else {\n      date = new Date(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1,\n        dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0);\n    }\n    return date;\n  };\n\n  /* istanbul ignore next */\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = fecha;\n  } else if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return fecha;\n    });\n  } else {\n    main.fecha = fecha;\n  }\n})(this);\n","import fecha from 'fecha';\n\nexport default function() {\n  class TimeDisplay extends HTMLElement {\n    static get observedAttributes() {\n      return ['datetime', 'format'];\n    }\n\n    connectedCallback() {\n      if (this.getAttribute('datetime') === null) {\n        this.datetime = 'now';\n      }\n\n      this._time = document.createElement('time');\n      this.appendChild(this._time);\n    }\n\n    attributeChangedCallback(name, oldValue, newValue) {\n      if (oldValue === newValue) return;\n      this[name] = newValue;\n    }\n\n    get datetime() { return this._datetime; }\n    set datetime(value) {\n      this._datetime = (!value || value === 'now') ? this.nowUTC() : new Date(value);\n      this.render();\n      this.setAttribute('datetime', this._datetime.toISOString());\n    }\n\n    get format() { return this._format; }\n    set format(value) {\n      this._format = value;\n      this.render();\n      this.setAttribute('format', value);\n    }\n\n    render() {\n      if (!this._datetime || !this._format) return;\n      this._time.innerText = fecha.format(this._datetime, this._format);\n    }\n\n    nowUTC() {\n      var now = new Date();\n      return new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(),  now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds()));\n    }\n  }\n\n  window.customElements.define('time-display', TimeDisplay);\n}\n","import fecha from 'fecha';\n\nexport default function() {\n  let format = {\n    future : 'in %s',\n    past   : '%s ago',\n    n  : 'just now',\n    s  : 'a few seconds',\n    m  : 'a minute',\n    mm : '%d minutes',\n    h  : 'an hour',\n    hh : '%d hours',\n    d  : 'a day',\n    dd : '%d days',\n    M  : 'a month',\n    MM : '%d months',\n    y  : 'a year',\n    yy : '%d years'\n  }\n\n  class TimeDiff extends HTMLElement {\n    static get observedAttributes() {\n      return ['datetime'];\n    }\n\n    constructor() {\n      super();\n\n      this._time = document.createElement('time');\n      this.appendChild(this._time);\n    }\n\n    connectedCallback() {\n      if (this.getAttribute('datetime') === null) {\n        this.datetime = 'now';\n      }\n    }\n\n    disconnectedCallback() {\n      if (this._timer) {\n        clearTimeout(this._timer);\n      }\n    }\n\n    attributeChangedCallback(name, oldValue, newValue) {\n      if (oldValue === newValue) return;\n      this[name] = newValue;\n    }\n\n    get datetime() { return this._datetime; }\n    set datetime(value) {\n      this._datetime = (!value || value === 'now') ? this.nowUTC() : new Date(value);\n      this.setAttribute('title', fecha.format(this._datetime, 'ddd, MMM D YYYY, hh:mm:ss'));\n      this.setAttribute('datetime', this._datetime.toISOString());\n      this.nextTick();\n    }\n\n    nextTick() {\n      var delay = this.humanize(this._datetime, this.nowUTC());\n      this._timer = setTimeout(this.nextTick.bind(this), delay * 1000);\n    }\n\n    humanize(from, to) {\n      var thresholds = {\n        n: 6,   // now\n        s: 45,  // seconds to minute\n        m: 45,  // minutes to hour\n        h: 22,  // hours to day\n        d: 26,  // days to month\n        M: 11   // months to year\n      };\n      var diff = from - to;\n      var round = Math.round;\n      var seconds = round(Math.abs(diff) / 1000);\n      var minutes = round(seconds / 60);\n      var hours = round(minutes / 60);\n      var days = round(hours / 24);\n      var months = round(days * 4800 / 146097);\n      var years = round(days / 365);\n\n      var a = seconds < thresholds.n && ['n']           ||\n              seconds < thresholds.s && ['s', seconds]  ||\n              minutes <= 1           && ['m']           ||\n              minutes < thresholds.m && ['mm', minutes] ||\n              hours   <= 1           && ['h']           ||\n              hours   < thresholds.h && ['hh', hours]   ||\n              days    <= 1           && ['d']           ||\n              days    < thresholds.d && ['dd', days]    ||\n              months  <= 1           && ['M']           ||\n              months  < thresholds.M && ['MM', months]  ||\n              years   <= 1           && ['y']           || ['yy', years];\n\n      if (seconds < thresholds.n) {\n        this._time.innerText = format[a[0]];\n      } else {\n        var type = (diff < 0) ? 'past' : 'future';\n        this._time.innerText = format[type].replace(/%s/, format[a[0]].replace(/%d/, a[1]));\n      }\n\n      diff = Math.abs(diff) / 1000;\n      if (diff < 1) {\n        return 1;\n      } else if (diff < 30) {\n        return 5;\n      } else if (diff < 60) {\n        return 10;\n      } else if (diff < 180) {\n        return 30;\n      } else if (diff < 300) {\n        return 60;\n      } else if (diff < 3600) {\n        return 300;\n      } else {\n        return 3600;\n      }\n    }\n\n    nowUTC() {\n      var now = new Date();\n      return new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(),  now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds()));\n    }\n  }\n\n  window.customElements.define('time-diff', TimeDiff);\n}\n"],"names":["register","main","shorten","arr","sLen","newArr","i","len","length","push","substr","monthUpdate","arrName","d","v","i18n","index","indexOf","charAt","toUpperCase","toLowerCase","month","pad","val","String","fecha","token","twoDigits","threeDigits","fourDigits","word","literal","noop","dayNames","monthNames","monthNamesShort","dayNamesShort","D","formatFlags","dateObj","getDate","DoFn","getDay","getMonth","getFullYear","getHours","getMinutes","getSeconds","Math","round","getMilliseconds","amPm","o","getTimezoneOffset","floor","abs","parseFlags","day","RegExp","source","parseInt","da","Date","cent","year","hour","minute","second","millisecond","isPm","minutes","parts","match","timezoneOffset","dd","dddd","ddd","DD","mm","m","hh","H","HH","h","MM","M","ss","s","A","a","masks","format","mask","i18nSettings","Object","prototype","toString","call","isNaN","getTime","Error","literals","replace","$0","$1","slice","shift","parse","dateStr","isValid","dateInfo","info","search","result","today","date","UTC","module","exports","this","TimeDisplay","HTMLElement","getAttribute","datetime","_time","document","createElement","appendChild","name","oldValue","newValue","_datetime","value","nowUTC","render","setAttribute","toISOString","_format","innerText","now","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","customElements","define","TimeDiff","_timer","nextTick","delay","humanize","setTimeout","bind","from","to","thresholds","diff","seconds","hours","days","months","years","n","type","window","WebComponents","ready","addEventListener"],"mappings":"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"}